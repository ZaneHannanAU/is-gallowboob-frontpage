<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title>Is /u/GallowBoob on the front page of reddit?</title>
    <base target="_blank">
    <script>document.documentElement.classList.add('js')</script>
    <style>:root,
input,
textarea,
body {
  background: #263238;
  color: #fff;
}
form {
  display: flex;
  flex-flow: row wrap;
}
form .field {
  flex: 1 1 20rem;
}
body {
  margin: 0;
}
a {
  text-decoration: none;
}
html {
  line-height: 1.5;
  font-family: "Roboto", sans-serif;
  font-weight: normal;
  color: #fff;
}
@media only screen and (max-width: 600px) {
  html {
    font-size: 14px;
  }
}
@media only screen and (min-width: 601px) and (max-width: 992px) {
  html {
    font-size: 14.5px;
  }
}
@media only screen and (min-width: 993px) {
  html {
    font-size: 15px;
  }
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 400;
  line-height: 1.1;
}
h1 a,
h2 a,
h3 a,
h4 a,
h5 a,
h6 a {
  font-weight: inherit;
}
h1 {
  font-size: 3.4rem;
  line-height: 110%;
  margin: 1.7rem 0 1.36rem 0;
}
h2 {
  font-size: 2.9rem;
  line-height: 110%;
  margin: 1.45rem 0 1.16rem 0;
}
h3 {
  font-size: 2.4rem;
  line-height: 110%;
  margin: 1.2rem 0 0.96rem 0;
}
h4 {
  font-size: 2rem;
  line-height: 110%;
  margin: 1rem 0 0.8rem 0;
}
h5 {
  font-size: 1.5rem;
  line-height: 110%;
  margin: 0.75rem 0 0.6rem 0;
}
h6 {
  font-size: 1rem;
  line-height: 110%;
  margin: 0.5rem 0 0.4rem 0;
}
footer {
  margin-top: 20px;
  padding-top: 20px;
  background-color: #37474f;
  color: #fff;
}
footer > * {
  padding-left: 5%;
  padding-right: 5%;
}
@media only screen and (min-width: 601px) and (max-width: 992px) {
  footer > * {
    padding-left: 7.5%;
    padding-right: 7.5%;
  }
}
@media only screen and (min-width: 993px) {
  footer > * {
    padding-left: 15%;
    padding-right: 15%;
  }
}
footer small {
  display: block;
  overflow: hidden;
  height: 50px;
  line-height: 50px;
  color: rgba(255,255,255,0.8);
  font-weight: 300;
  background-color: rgba(51,51,51,0.2);
}
.js:not(:root) {
  display: none;
}
.js:root .js {
  display: block;
}
.js:root .no-js {
  display: none;
}
:root,
body {
  min-height: 100vh;
}
body {
  display: flex;
  flex-flow: column;
  justify-content: center;
}
body >*:not(footer) {
  flex: 1 1 auto;
  justify-content: center;
}
:empty:not(input) {
  display: none;
}
h1,
h2 {
  text-align: center;
}
dl {
  columns: 99 20rem;
  padding: 1ch;
}
dl div {
  -webkit-column-break-inside: avoid;
  column-break-inside: avoid;
}
dl div::before {
  display: block;
  float: right;
  content: attr(data-score) ' points on r/' attr(data-sr) ' (#' attr(data-rank) ')';
  margin-start: 1ch;
  -webkit-margin-start: 1ch;
  -moz-margin-start: 1ch;
}
dl div dt {
  font-weight: bold;
  text-align: left;
  margin-before: 1ch;
  -webkit-margin-before: 1ch;
  -moz-margin-before: 1ch;
  margin-after: 1ch;
  -webkit-margin-after: 1ch;
  -moz-margin-after: 1ch;
}
dl div dd {
  text-align: justify;
  margin-start: 20px;
  -webkit-margin-start: 20px;
  -moz-margin-start: 20px;
}
dl div dd a {
  display: block;
}
a {
  text-decoration: none;
  color: #ff6e40;
}
.input {
  transform-origin: top left;
  pointer-events: none;
  padding: 0;
  color: rgba(255,255,255,0.54);
  margin: 0 0 -1px;
  text-align: left;
  flex: 1 1;
  transition: 220ms cubic-bezier(0.4, 0, 0.2, 1);
}
.input[i18n] {
  display: flex;
}
.input[i18n]::after {
  transform-origin: bottom right;
  flex: 1 1 auto;
  float: right;
  text-align: right;
  transition: inherit;
}
label {
  display: flex;
  flex-flow: row wrap;
  padding: 0.5ch;
}
input:not(:valid):focus + .input,
textarea:not(:valid):focus + .input {
  color: rgba(255,255,255,0.54) !important;
}
input:valid:focus + .input,
textarea:valid:focus + .input {
  color: #ff6e40 !important;
}
input {
  background-color: transparent;
  border: none;
  border-bottom: 1px solid #ddd;
  border-radius: 0;
  outline: none;
  height: 2rem;
  width: 100%;
  font-size: false;
  margin: 0 0 15px 0;
  padding: 0;
  box-shadow: none;
  box-sizing: content-box;
  transition: all 0.3s;
  margin-bottom: 0.5rem;
  flex: 1 1 100%;
  order: 2;
}
input:disabled,
input[readonly="readonly"] {
  color: rgba(0,0,0,0.26);
  border-bottom: 1px dotted rgba(0,0,0,0.26);
}
input:focus:not([readonly]) {
  border-bottom: 1px solid #ff6e40;
  box-shadow: 0 1px 0 0 #ff6e40;
}
input:disabled + .input,
input[readonly="readonly"] + .input {
  color: rgba(0,0,0,0.26);
}
input:focus:not([readonly]) + .input {
  color: #ff6e40;
}
input[type='submit'],
input[type='reset'] {
  cursor: pointer;
}
input[type='submit'] {
  color: #fff;
  background-color: #0091ea;
  font-size: 1.3rem;
  box-shadow: 0 2px 6px 0 rgba(0,0,0,0.16), 0 1px 9px 0 rgba(0,0,0,0.13);
  border: none;
  border-radius: 2px;
  height: 36px;
  line-height: 36px;
  padding: 0 2rem;
  text-transform: uppercase;
  text-decoration: none;
  display: inline-block;
  outline: 0;
  text-align: center;
  letter-spacing: 0.5px;
  vertical-align: middle;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: 0.2s ease-out;
}
input[type='submit']:hover {
  background-color: #009af8;
  box-shadow: 0 4.5px 9px 0 rgba(0,0,0,0.195), 0 5px 17px 0 rgba(0,0,0,0.145);
}
input[type='submit']:active {
  background-color: #008ade;
  box-shadow: 0 7px 12px 0 rgba(0,0,0,0.22), 0 9px 25px 0 rgba(0,0,0,0.16);
}
input[type='submit']:disabled {
  background-color: #dfdfdf;
  box-shadow: none;
  color: #9f9f9f;
  cursor: default;
}
input[type='submit']:disabled:hover {
  background-color: #dfdfdf;
  color: #9f9f9f;
}
input + .input {
  max-width: 83.33%;
}
input + .input::after {
  transform: translate(0, 1.5rem) scale(1.2);
}
input:not(:valid) + .input {
  transform: translate(0, 1.5rem) scale(1.2);
}
input:not(:valid) + .input::after {
  transform: translate(-2.88rem, -0.5rem);
}

    </style>
  </head>
  <body>
    <h1 id="title">Is <a href="https://www.reddit.com/u/GallowBoob">/u/GallowBoob</a> on the front page of reddit?</h1>
    <div class="no-js">
      <p>You do not appear to have scripting enabled.</p>
      <p>Sadly, static pages will fail without scripting.</p>
    </div>
    <div class="js">
      <h2 id="answer">Checking…</h2>
      <dl id="posts"></dl>
      <h2 id="allusers"></h2>
      <dl id="users"></dl>
    </div>
    <form method="GET" action="./" target="_self">
      <div class="field">
        <label>
          <input type="number" aria-labelledby="_false" min="1" max="100" step="1" required name="limit">
          <div class="input" id="_limit">Limit
          </div>
        </label>
      </div>
      <div class="field">
        <label>
          <input type="name" aria-labelledby="_false" required name="user">
          <div class="input" id="_user">Username
          </div>
        </label>
      </div>
      <div class="field">
        <label>
          <input type="text" aria-labelledby="_false" required name="sr">
          <div class="input" id="_sr">Subreddit
          </div>
        </label>
      </div>
      <input type="submit">
    </form>
    <script>'use strict';

var Options;
if (location.search.indexOf('?') === 0) {
	var points = location.search.slice(1).split('&');
	points.forEach(function (s, i) {
		points[i] = s.split('=');
		points[i][0] = points[i][0].toLocaleLowerCase();
	});
	Options = new Map(points);
} else {
	Options = new Map();
}

var qs = function qs(q) {
	return document.querySelector(q);
};
var qsa = function qsa(qa) {
	return document.querySelectorAll(qa);
};
var ce = function ce(el) {
	return document.createElement(el);
};
var cn = function cn(nd) {
	return nd.cloneNode(true);
};

var posts = qs('#posts'),
    allusers = qs('#allusers'),
    answer = qs('#answer'),
    title = qs('#title'),
    users = qs('#users'),
    limit = parseInt(Options.get('limit') || 50),
    sr = Options.get('sr') || 'all',
    user = Options.get('user') || 'GallowBoob',
    isFront = false,
    Ea = ce('a'),
    Ediv = ce('div'),
    Edt = ce('dt'),
    Edd = ce('dd'),
    un,
    pt,
    li,
    div,
    dt,
    dd,
    loggable = [],
    allUsers = [];

title.innerHTML = 'Is <a href="https://www.reddit.com/u/' + user + '">/u/' + user + '</a> on the front page of ' + (sr === 'all' ? 'reddit' : '<a href="https://www.reddit.com/r/' + sr + '">r/' + sr + '</a>') + '?';
document.title = title.innerText;

qs('form input[name="limit"]').value = limit;
qs('form input[name="user"]').value = user;
qs('form input[name="sr"]').value = sr;

var addPost = function addPost(post, i, array, father) {
	un = cn(Ea); // username
	pt = cn(Ea); // post title
	dt = cn(Edt); // desc
	dd = cn(Edd); // desc
	div = cn(Ediv); // contain

	div.dataset.score = post.data.score;
	div.dataset.rank = 1 + i;
	div.dataset.sr = post.data.subreddit;

	un.href = 'https://www.reddit.com/u/' + post.data.author;
	un.innerText = '/u/' + post.data.author;
	dt.appendChild(un);
	div.appendChild(dt);

	pt.href = 'https://www.reddit.com' + post.data.permalink;
	pt.innerHTML = post.data.title;

	dd.appendChild(pt);
	div.appendChild(dd);
	return father.appendChild(div);
};

fetch('https://www.reddit.com/r/' + sr + '/.json?limit=' + limit).then(function (res) {
	return res.json();
}).then(function (postList) {
	return postList.data.children.forEach(function (post, i) {
		loggable.push(post);
		if (post.data.author.toLocaleLowerCase() === user.toLocaleLowerCase()) {
			addPost(post, i, [], posts);
			isFront = true;
		}
	});
}).then(function () {
	answer.innerText = isFront ? 'Yes:' : 'No.';
	console.log(loggable);
	loggable.forEach(function (post, i, posts) {
		return addPost(post, i, posts, users);
	});
	allusers.innerHTML = 'The top ' + loggable.length + ' users on <a href="https://www.reddit.com/r/' + sr + '">r/' + sr + '</a> in default sort:';
});

    </script>
    <footer>
      <p>Fork me on GitHub: <a href="//github.com/ZaneHannanAU/is-gallowboob-frontpage">Zane­Hannan­AU / Is Gallow­Boob Front­page?</a></p><small>© Copyright 2017 <a href="https://www.reddit.com/u/ZaneHannanAU"></a></small>
    </footer>
  </body>
</html>